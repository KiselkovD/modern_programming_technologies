## 02.Memory_Overcommit

### задача 1:

1. Выделить заведомо сликом большое количество памяти при помощи malloc (предпочтительно) или объявления глобального массива. Количество памяти задать параметром командной строки.
2. С шагом в 4 КиБ (вероятно минимальный размер страницы на вашем компьютере) обращаться к этой памяти на чтение или на запись. Для того, чтобы задать, идёт обращение на чтение или на запись, использовать параметр командной строки.
3. Чтобы процесс был управляемым, раз в неколько тысяч (или десятков, или сотен тысяч, решите сами) обращений делайте паузу на несколько десятков или сотен (тоже решите сами) миллисекунд. Чтобы ОС превращалась в тыкву управлямо.
4. Пронаблюдайте за потреблением памяти при помощи системных инструментов. В каких случаях оно будет расти, в каких — нет.
5. Если у вас есть возможность, попробуйте испытать программу под разными ОС.

### результаты:

- Windows 11 23H2:

```
>.\main.exe 4024 write
MiB amount: 3
MiB amount: 7
MiB amount: 11
...
MiB amount: 1953
MiB amount: 1957
MiB amount: 1960
Memory allocation failed at 2059038720 bytes
```

```
>.\main.exe 4024 read
└└└...└└└MiB amount: 3
MiB amount: 7
MiB amount: 11
...
0╧vА╣0╧vА╣0╧vА╣...0╧vА╣0╧vА╣0╧vА╣0╧vА┐MiB amount: 1957
└└└...└└└MiB amount: 1960
└└└...└└└Memory allocation failed at 2059038720 bytes
```

- WSL Ubuntu 24.04.1 LTS:

![alt text](<../res/Снимок экрана 2024-12-27 091954.png>)
![alt text](<../res/Снимок экрана 2024-12-27 092057.png>)

### выводы:

- одна и таже программа может получить на 5 гб больше памяти если запустить ее из под wsl а не с windows
- также в обоих случаях выделение памяти действительно приводило к выделению памяти
